diff --git a/coders/pdf.c b/coders/pdf.c
index 758034a20d..b422c0a4e3 100644
--- a/coders/pdf.c
+++ b/coders/pdf.c
@@ -146,6 +146,8 @@ static int MagickDLLCall PDFDelegateMessage(void *handle,const char *message,
       *messages=(char *) ResizeQuantumMemory(*messages,offset+length+1,
         sizeof(char *));
     }
+  if (*messages == (char *) NULL)
+    return(0);
   (void) memcpy(*messages+offset,message,length);
   (*messages)[length+offset] ='\0';
   return(length);
