{"code":"(this[\"webpackJsonpstreamlit-agraph\"]=this[\"webpackJsonpstreamlit-agraph\"]||[]).push([[0],{30:function(e,t,n){\"use strict\";n.r(t);var r=n(0),s=n.n(r),o=n(13),i=n.n(o),a=n(14),c=n(5),l=n(18),d=n(2);class p extends c.StreamlitComponentBase{constructor(){super(...arguments),this.render=()=>{var e=JSON.parse(this.props.args.data),t=e.nodes.slice();for(let s=0;s<t.length;s++)t[s].title&&(t[s].div=this.htmlTitle(t[s].title));const n=JSON.parse(this.props.args.config),r={selectNode:e=>{c.Streamlit.setComponentValue(e.nodes[0])},doubleClick:e=>{console.log(e.nodes);let n=function(e,t){for(let n of t)if(n.id===e)return n}(e.nodes[0],t).div.innerHTML;n&&window.open(n)}};return Object(d.jsx)(\"span\",{children:Object(d.jsx)(l.a,{graph:e,options:n,events:r,getNetwork:e=>{}})})},this.htmlTitle=e=>{const t=document.createElement(\"div\");return t.innerHTML=e,t}}}var h=Object(c.withStreamlitConnection)(p);i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(a.StreamlitProvider,{children:Object(d.jsx)(h,{})})}),document.getElementById(\"root\"))}},[[30,1,2]]]);","name":"static/js/main.06eca4f8.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","dist","streamlit_component_lib_dist","react_vis_graph_wrapper_esm","jsx_runtime","StreamlitVisGraph_StreamlitVisGraph","constructor","super","arguments","render","graph","JSON","parse","props","args","nodes","slice","i","length","title","div","htmlTitle","options","events","selectNode","event","setComponentValue","doubleClick","console","log","link","lookup_node","mynodes","node","id","lookup_node_id","innerHTML","window","open","Object","children","getNetwork","network","html","container","document","createElement","src_StreamlitVisGraph","a","StrictMode","getElementById"],"sources":["static/js/main.06eca4f8.chunk.js"],"mappings":"CAACA,KAAK,gCAAkCA,KAAK,iCAAmC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAExF,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAQF,EAAoB,GAC5BG,EAA6BH,EAAoBI,EAAEF,GAGnDG,EAAYL,EAAoB,IAChCM,EAAiCN,EAAoBI,EAAEC,GAGvDE,EAAOP,EAAoB,IAG3BQ,EAA+BR,EAAoB,GAGnDS,EAA8BT,EAAoB,IAGlDU,EAAcV,EAAoB,GAGtC,MAAMW,UAA4CH,EAAqD,uBAAE,WAAAI,GAAcC,SAASC,WAAWlB,KAAKmB,OAAO,KAAoH,IAAIC,EAAMC,KAAKC,MAAMtB,KAAKuB,MAAMC,KAAW,MAAOC,EAAML,EAAMK,MAAMC,QAAQ,IAAI,IAAIC,EAAE,EAAEA,EAAEF,EAAMG,OAAOD,IAAQF,EAAME,GAAGE,QAAMJ,EAAME,GAAGG,IAAI9B,KAAK+B,UAAUN,EAAME,GAAGE,QAAQ,MAAMG,EAAQX,KAAKC,MAAMtB,KAAKuB,MAAMC,KAAa,QAASS,EAAO,CAACC,WAAWC,IAAQvB,EAAwC,UAAEwB,kBAAkBD,EAAMV,MAAM,GAAG,EAAGY,YAAYF,IAAQG,QAAQC,IAAIJ,EAAMV,OAC/nB,IAAyDe,EADmG,SAAwBC,EAAYC,GAAS,IAAI,IAAIC,KAAQD,EAAS,GAAGC,EAAKC,KAAKH,EAAa,OAAOE,CAAO,CAC1PE,CAAeV,EAAMV,MAAM,GAAGA,GAA4BK,IAAIgB,UAAaN,GAAMO,OAAOC,KAAKR,EAAM,GAAI,OAAmBS,OAAOnC,EAAiB,IAAxBmC,CAA2B,OAAO,CAACC,SAAsBD,OAAOnC,EAAiB,IAAxBmC,CAA2BpC,EAA6C,EAAE,CAACO,MAAMA,EAAMY,QAAQA,EAAQC,OAAOA,EAAOkB,WAAWC,SAE9T,EAAGpD,KAAK+B,UAAUsB,IAAO,MAAMC,EAAUC,SAASC,cAAc,OAAgC,OAAzBF,EAAUR,UAAUO,EAAYC,CAAS,CAAG,EAA+B,IAAIG,EAAyBR,OAAOrC,EAAsD,wBAA9D,CAAiEG,GAEpPL,EAAkBgD,EAAEvC,OAAoB8B,OAAOnC,EAAiB,IAAxBmC,CAA2B1C,EAAcmD,EAAEC,WAAW,CAACT,SAAsBD,OAAOnC,EAAiB,IAAxBmC,CAA2BtC,EAAwB,kBAAE,CAACuC,SAAsBD,OAAOnC,EAAiB,IAAxBmC,CAA2BQ,EAAsB,CAAC,OAAOF,SAASK,eAAe,QAE3Q,GAEL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpstreamlit-agraph\"] = this[\"webpackJsonpstreamlit-agraph\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/streamlit-component-lib-react-hooks/dist/index.js\nvar dist = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/streamlit-component-lib/dist/index.js + 107 modules\nvar streamlit_component_lib_dist = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-vis-graph-wrapper/dist/react-vis-graph-wrapper.esm.js + 152 modules\nvar react_vis_graph_wrapper_esm = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/StreamlitVisGraph.tsx\nclass StreamlitVisGraph_StreamlitVisGraph extends streamlit_component_lib_dist[\"StreamlitComponentBase\"]{constructor(){super(...arguments);this.render=()=>{function lookup_node_id(lookup_node,mynodes){for(let node of mynodes){if(node.id===lookup_node){return node;}}}var graph=JSON.parse(this.props.args[\"data\"]);var nodes=graph.nodes.slice();for(let i=0;i<nodes.length;i++){if(nodes[i].title)nodes[i].div=this.htmlTitle(nodes[i].title);}const options=JSON.parse(this.props.args[\"config\"]);const events={selectNode:event=>{streamlit_component_lib_dist[\"Streamlit\"].setComponentValue(event.nodes[0]);},doubleClick:event=>{console.log(event.nodes);// let link = nodes;\nlet lookup_node=lookup_node_id(event.nodes[0],nodes);let link=lookup_node.div.innerHTML;if(link){window.open(link);}}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_vis_graph_wrapper_esm[\"a\" /* default */],{graph:graph,options:options,events:events,getNetwork:network=>{//  if you want access to vis.js network api you can set the state in a parent component using this property\n//console.log(network);\n}})});};this.htmlTitle=html=>{const container=document.createElement(\"div\");container.innerHTML=html;return container;};}}/* harmony default export */ var src_StreamlitVisGraph = (Object(streamlit_component_lib_dist[\"withStreamlitConnection\"])(StreamlitVisGraph_StreamlitVisGraph));\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"StreamlitProvider\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_StreamlitVisGraph,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[30,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/junbodu/Documents/JYH-lab/code/prompt-ui/streamlit_agraph/frontend/src/StreamlitVisGraph.tsx","/Users/junbodu/Documents/JYH-lab/code/prompt-ui/streamlit_agraph/frontend/src/index.tsx"],"names":["StreamlitVisGraph","StreamlitComponentBase","constructor","arguments","render","lookup_node_id","lookup_node","mynodes","node","id","graph","JSON","parse","props","args","nodes","slice","i","length","title","div","htmlTitle","options","events","selectNode","event","Streamlit","setComponentValue","doubleClick","console","log","link","innerHTML","window","open","_jsx","children","VisGraph","getNetwork","network","html","container","document","createElement","withStreamlitConnection","ReactDOM","React","StrictMode","StreamlitProvider","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,KAAM,CAAAA,mCAAiB,QAAS,CAAAC,sDAAuB,CAAAC,YAAA,WAAAC,SAAA,OAE9CC,MAAM,CAAG,IAAiB,CAE/B,QAAS,CAAAC,cAAcA,CAACC,WAAW,CAAEC,OAAO,CAAC,CAC3C,IAAK,GAAI,CAAAC,IAAI,GAAI,CAAAD,OAAO,CAAC,CACrB,GAAIC,IAAI,CAACC,EAAE,GAAKH,WAAW,CAAC,CACxB,MAAO,CAAAE,IAAI,CACf,CACN,CAAC,CAED,GAAI,CAAAE,KAAK,CAAGC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC,CAE/C,GAAI,CAAAC,KAAK,CAAGL,KAAK,CAACK,KAAK,CAACC,KAAK,CAAC,CAAC,CAE/B,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,KAAK,CAACG,MAAM,CAAED,CAAC,EAAE,CAAE,CACrC,GAAGF,KAAK,CAACE,CAAC,CAAC,CAACE,KAAK,CACfJ,KAAK,CAACE,CAAC,CAAC,CAACG,GAAG,CAAG,IAAI,CAACC,SAAS,CAACN,KAAK,CAACE,CAAC,CAAC,CAACE,KAAK,CAAC,CACjD,CAEA,KAAM,CAAAG,OAAO,CAAGX,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAErD,KAAM,CAAAS,MAAM,CAAG,CAEbC,UAAU,CAAGC,KAAS,EAAK,CACzBC,yCAAS,CAACC,iBAAiB,CAACF,KAAK,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,CAC7C,CAAC,CAEDa,WAAW,CAAGH,KAAS,EAAK,CAC1BI,OAAO,CAACC,GAAG,CAACL,KAAK,CAACV,KAAK,CAAC,CACxB;AACA,GAAI,CAAAT,WAAW,CAAGD,cAAc,CAACoB,KAAK,CAACV,KAAK,CAAC,CAAC,CAAC,CAAEA,KAAK,CAAC,CACvD,GAAI,CAAAgB,IAAI,CAAGzB,WAAW,CAACc,GAAG,CAACY,SAAS,CACpC,GAAGD,IAAI,CAAC,CACNE,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CACnB,CACF,CACF,CAAC,CACD,mBACEI,0BAAA,SAAAC,QAAA,cAEAD,0BAAA,CAACE,8CAAQ,EACT3B,KAAK,CAAEA,KAAM,CACbY,OAAO,CAAEA,OAAQ,CACjBC,MAAM,CAAEA,MAAO,CACfe,UAAU,CAAGC,OAAY,EAAK,CAC5B;AACA;AAAA,CACA,CAAC,CAAC,CACE,CAAC,CAEX,CAAC,MAEOlB,SAAS,CAAImB,IAAI,EAAS,CAChC,KAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAC/CF,SAAS,CAACT,SAAS,CAAGQ,IAAI,CAC1B,MAAO,CAAAC,SAAS,CAClB,CAAC,EACH,CAEeG,yHAAuB,CAAC5C,mCAAiB,CAAC,E;;AC/DzD6C,mBAAQ,CAACzC,MAAM,cACb+B,0BAAA,CAACW,eAAK,CAACC,UAAU,EAAAX,QAAA,cACfD,0BAAA,CAACa,yBAAiB,EAAAZ,QAAA,cAChBD,0BAAA,CAACnC,qBAAiB,GAAC,CAAC,CACH,CAAC,CACJ,CAAC,CACnB0C,QAAQ,CAACO,cAAc,CAAC,MAAM,CAChC,CAAC,C","file":"x","sourcesContent":["import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode } from \"react\"\nimport VisGraph from 'react-vis-graph-wrapper';\n\n\nclass StreamlitVisGraph extends StreamlitComponentBase {\n\n  public render = (): ReactNode => {\n\n    function lookup_node_id(lookup_node, mynodes){\n      for (let node of mynodes){\n          if (node.id === lookup_node){\n              return node;\n          }\n    }}\n\n    var graph = JSON.parse(this.props.args[\"data\"]);\n    \n    var nodes = graph.nodes.slice();\n\n    for (let i = 0; i < nodes.length; i++) {\n      if(nodes[i].title)\n        nodes[i].div = this.htmlTitle(nodes[i].title);\n    }\n  \n    const options = JSON.parse(this.props.args[\"config\"]);\n\n    const events = {\n\n      selectNode: (event:any) => {\n        Streamlit.setComponentValue(event.nodes[0]);\n      },\n\n      doubleClick: (event:any) => {\n        console.log(event.nodes);\n        // let link = nodes;\n        let lookup_node = lookup_node_id(event.nodes[0], nodes);\n        let link = lookup_node.div.innerHTML;\n        if(link){\n          window.open(link);\n        }\n      }\n    };\n    return (\n      <span>\n    \n      <VisGraph\n      graph={graph}\n      options={options}\n      events={events}\n      getNetwork={(network: any) => {\n        //  if you want access to vis.js network api you can set the state in a parent component using this property\n        //console.log(network);\n      }}/>\n      </span>\n    )\n  }\n\n  private htmlTitle = (html):any => {   \n    const container = document.createElement(\"div\");\n    container.innerHTML = html;\n    return container;\n  }\n}\n\nexport default withStreamlitConnection(StreamlitVisGraph)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { StreamlitProvider } from \"streamlit-component-lib-react-hooks\"\nimport StreamlitVisGraph from \"./StreamlitVisGraph\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StreamlitProvider>\n      <StreamlitVisGraph/>\n    </StreamlitProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"]}}